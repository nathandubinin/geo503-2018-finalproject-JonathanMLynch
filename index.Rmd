---
title: "Final Project"
author: "Jonathan Lynch"
subtitle: First Draft
---

# Introduction
Under the Pipeline and Hazardous Materials Safety Administration (PHMSA), the United States Department of Transportation releases an Emergency Response Guidebook to educate first responders. This guidebook informs people how to respond in the event of a hazardous material spill. Depending on the material and the size of the spill, the reader is informed of how far to evacuate the surrounding area and how far downwind of the spill should be evacuated. The purpose of my project is to take that data that can be found online and create a website where the user will be able to enter a location that will be geocoded onto the map and then the size of the spill and material can be selected. Then the code will pull the relevant information from the spreadsheet and project a buffer at the geocoded location onto the map. Thereby visually informing the user the area that needs to be evacuated.  

> I know words.  I have the best words.  ~ Donald Trump

# Materials and methods

Narrative and most code will go here.  Describe what you are doing and show how to do it (with code).

Plan for this project:

1. Create a map of Erie County
2. Add the Hazardous Materials spreadsheet
3. Add the ability to select a location on the map
4. After selecting a location, choose hazardous material
5. This places a buffer of area that needs to be evacuated

> The code below is a work in progress and as such is set to not run.
```{r eval = FALSE}
#Emergency Response Guidebook Spreadsheet
hazmat <- "https://www.phmsa.dot.gov/sites/phmsa.dot.gov/files/docs/English_TIHWR_Table_ERG2016.xlsx"

#set the file path where it'll download to
file_path <- "data/EmergencyResponseGuide"

#download from the URL to the filepath specified
download.file(hazmat)

#set up geocode to get latlon for location of spill
geocode("#whatever people enter in box", output = "latlon", source = "dsk")

#select hazardous material that spilled
head(hazmat)

#put buffer around geocoded location from what hazmat spreadsheet states
```


# Results

Show tables, plots, etc. and describe them.

> The code below currently only loads up the interactive map.
```{r}
#install.packages("leaflet")
library(leaflet)
map <- leaflet() %>%
  #Add default OpenStreetMap map tiles
  addTiles() %>%
  addMarkers(lng=-78.798, lat=42.900) %>%
  fitBounds(-79.1, 42.5, -78.5, 43.1)
#Print the map
map
```


# Conclusions

What have you learned?  Are there any broader implications?

# References

